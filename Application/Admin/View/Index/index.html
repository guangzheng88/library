<extend name="./Public/Template/base.html" />
<block name="header_ext">
    <script type="text/javascript">
        function save(){
            TPA.httpPost('admin/user/save/',
                    {password:$('#inputPassword').val(), name:$('#inputName').val(), email:$('#inputEmail').val(), mobile: $('#inputMobile').val()},
                    function(data){
                        if( data.success ){
                            bootbox.alert('修改成功');
                        }else{
                            bootbox.alert(data.errorDesc);
                        }
                    }
            );
        }
    </script>
</block>
<block name="content">
    <ol class="breadcrumb">
        <li><a href="__MODULE__">首页</a></li>
        <!-- <li class="active"><a href="{-:U('user/info')-}">个人信息</a></li> -->
    </ol>
    <form class="form-horizontal" action="__CONTROLLER__/updateAdmin" method="post">
        <div class="form-group">
            <label for="inputUsername" class="col-sm-2 control-label">账号</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="inputUsername" name="username" placeholder="账号" required value="{-$item.username-}" <notempty name="item.username">disabled</notempty> >
            </div>
        </div>
        <div class="form-group" style="margin-bottom: 50px;">
            <label for="inputPassword" class="col-sm-2 control-label">密码</label>
            <div class="col-sm-10">
                <input type="password"  style="display:none"/>
                <input type="password" class="form-control" id="inputPassword" name="password" placeholder="若修改密码，请输入新密码!" autocomplete="off">
            </div>
        </div>
        <div class="form-group">
            <label for="inputName" class="col-sm-2 control-label">姓名</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="inputName" name="name" placeholder="姓名" required value="{-$item.name-}">
            </div>
        </div>
        <div class="form-group">
            <label for="inputEmail" class="col-sm-2 control-label">邮箱</label>
            <div class="col-sm-10">
                <input type="email" class="form-control" id="inputEmail" name="email" placeholder="邮箱" value="{-$item.email-}">
            </div>
        </div>
        <div class="form-group">
            <label for="inputMobile" class="col-sm-2 control-label">电话</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="inputMobile" name="mobile" pattern="^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$" placeholder="手机号" value="{-$item.mobile-}">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary">提交</button>
            </div>
        </div>
        <<input type="hidden" name="id" value="{-$item.id-}">
    </form>

</block>